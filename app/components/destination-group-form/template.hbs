<div class="destination-group-form">
  <IgmForm @for={{@destinationGroup}} @submitForm={{this.save}}>
    <IgmInput
      @value={{@destinationGroup.name}}
      @errors={{@destinationGroup.errors.name}}
      @label="Name"
    />
    <IgmPowerSelect
      @selection={{@destinationGroup.destinations}}
      @options={{this.destinations.storyDestinations}}
      @errors={{@destinationGroup.errors.destinations}}
      @label="Destinations"
      @multiple={{true}}
      @optionLabelPath="displayName"
      @placeholder="Choose some destinations"
      @onChange={{this.onDestinationChange}}
      @searchEnabled={{true}}
      @searchField="displayName"
      @closeOnSelect={{false}}
      @search={{this.searchStoryDestinationsOptions}}
    />

    <button type="submit" class="btn btn-success">Save</button>

    {{#unless @destinationGroup.isNew}}
      <button
        type="button"
        {{on "click" this.delete}}
        class="btn btn-danger"
      >Delete</button>
    {{/unless}}
  </IgmForm>
</div>